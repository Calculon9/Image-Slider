<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
    <title>Image Slider</title>
</head>
<body>
    <div class="wrap">
        
        <div class="auto-toggle-wrap">
            <h3 class="auto-title">Autoplay</h3>
            <div class="auto-toggle">
                <div class="off-text">Off</div>
                <div class="bar">
                    <button class="ball"></button>
                </div>
                <div class="on-text">On</div>
            </div>
        </div>
        
        <div class="slider">
           <div class="slide active">
               <div class="content">
                   <h2>Slide One</h2>
                   <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus illum, sed consequuntur ipsam itaque nemo hic autem. Alias officia quo voluptas soluta. Magnam ut perspiciatis iusto possimus. In, consequatur error.</p>
               </div>
           </div>
           <div class="slide">
                <div class="content">
                    <h2>Slide Two</h2>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus illum, sed consequuntur ipsam itaque nemo hic autem. Alias officia quo voluptas soluta. Magnam ut perspiciatis iusto possimus. In, consequatur error.</p>
                </div>
            </div>
            <div class="slide">
            <div class="content">
                <h2>Slide Three</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus illum, sed consequuntur ipsam itaque nemo hic autem. Alias officia quo voluptas soluta. Magnam ut perspiciatis iusto possimus. In, consequatur error.</p>
            </div>
        </div>
        <div class="slide">
            <div class="content">
                <h2>Slide Four</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus illum, sed consequuntur ipsam itaque nemo hic autem. Alias officia quo voluptas soluta. Magnam ut perspiciatis iusto possimus. In, consequatur error.</p>
            </div>
        </div>
        </div>
        <div class="buttons">
            <button class="left"><i class="fas fa-arrow-circle-left"></i></button>
            <button class="right"><i class="fas fa-arrow-circle-right"></i></button>
        </div>
    </div>
   
    <script>
        let slides = Array.from(document.querySelectorAll('.slide'));
        let right = document.querySelector('.right');
        let left = document.querySelector('.left');
        let auto = false;
        let interval = 5000;
        let slideInterval;

        function nextSlide () {
            // Get active slide
            let active = document.querySelector('.active');
            
            // Remove 'active' class
            active.classList.remove('active');
            
            // Check for next slide
            if(active.nextElementSibling) {
                //Add 'active' to next slide
                active.nextElementSibling.classList.add('active');
            } else {
                // Add 'active' to initial slide
                slides[0].classList.add('active');
            }
        }

        function prevSlide () {
            // Get active slide
            let active = document.querySelector('.active');

            // Remove 'active' class
            active.classList.remove('active');
            
            // Check for previous slide
            if(active.previousElementSibling) {
                //Add 'active' to previous slide
                active.previousElementSibling.classList.add('active');
            } else {
                // Add 'active' to final slide
                slides[slides.length - 1].classList.add('active');
            }
        }

        // Button events
        right.addEventListener('click', e => {
            nextSlide();
            if(auto) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, interval);
            }
        });

        left.addEventListener('click', e => {
            prevSlide();
            if(auto) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, interval);
            }
        });

        // Auto toggle

        let autoBtn = document.querySelector('.ball');
        autoBtn.addEventListener('click', toggle);
       
        function toggle (e) {
            if(!e.target.matches('.on')) {
                e.target.classList.add('on');
                auto = true;
            } else {
                e.target.classList.remove('on');
                auto = false;
            }
            if(auto) {
                slideInterval = setInterval(nextSlide, interval);
            } else {
                clearInterval(slideInterval);
            }
        }
         
    </script>
</body>
</html>